<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml">

<!-- HeatMap -->
<script type="text/javascript" src="//d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.min.js"></script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.css"/>
<div th:replace="~{fragments/scripts}"></div>
<script src="/assets/js/cal-heatmap-conf.js"></script>

<div th:replace="~{fragments/head}"></div>
<body>
<section id="container">
    <div th:replace="~{fragments/header}"></div>
    <div th:replace="~{fragments/sidebar}"></div>
    <section id="main-content">
        <section class="wrapper">
            <h3><i class="fas fa-angle-right"></i> My Statistics</h3>
            <div class="tab-pane" id="chartjs">
                <div class="row mt" th:object="${habitViewModel}">
                    <div class="col-lg-1 btn-col">
                        <a class="btn btn-md col-md-15 btn-theme pull-left"
                            th:if="${page > 0}"
                            th:href="@{/users/statistics(page=${page - 1})}">

                            <i class="fas fa-angle-left"></i> Previous</a>
                    </div>
                    <div class="col-lg-9 statistics-col" th:each="habitViewModel: ${habitsPageModel.getHabits()}">
                        <div class="content-panel centered">
                            <h2>
                                <a th:href="@{/habits/view/{id}(id = ${habitViewModel.getId()})}">
                                    <span th:text="${habitViewModel.getTitle()}"></span>
                                </a>
                            </h2>
                            <div class="panel-body text-center" th:id="${habitViewModel.getTitle()}">
                                <script th:inline="javascript">
                                    seedHeatmapData([[${habitViewModel.getTitle()}]], [[${habitViewModel.getId()}]]);
                                </script>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-1 btn-col">
                        <a class="btn btn-md col-md-15 btn-theme pull-right"
                            th:if="${(page + 1) < habitsPageModel.getTotalPagesCount()}"
                            th:href="@{/users/statistics(page=${page + 1})}">
                            Next <i class="fas fa-angle-right"></i></a>
                    </div>
                </div>
            </div>
        </section>
    </section>
</section>
<div th:replace="~{fragments/footer}"></div>
<div th:replace="~{fragments/scripts}"></div>
</body>
</html>
