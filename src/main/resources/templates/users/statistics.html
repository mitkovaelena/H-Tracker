<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<!-- HeatMap -->
<script type="text/javascript" src="//d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.min.js"></script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.css"/>
<script src="/assets/js/cal-heatmap-conf.js"></script>

<div th:replace="~{fragments/head}"></div>
<body>
<section id="container">
    <div th:replace="~{fragments/header}"></div>
    <div th:replace="~{fragments/sidebar}"></div>
    <section id="main-content">
        <section class="wrapper">
            <h3><i class="fas fa-angle-right"></i> <span sec:authentication="name"></span></h3>
            <div class="tab-pane" id="chartjs">
                <div class="row mt" th:object="${habitViewModel}" th:each="habitViewModel: ${habitViewModels}">
                    <div class="col-lg-12">
                        <div class="content-panel">
                            <h4><i class="fa fa-angle-right"></i>
                                <a th:href="@{/habits/view/{id}(id = ${habitViewModel.key.getId()})}">
                                    <span th:text="${habitViewModel.key.getTitle()}"></span>
                                </a>
                            </h4>
                            <div class="panel-body text-center" th:id="${habitViewModel.key.getTitle()}">
                                <script th:inline="javascript">
                                    seedHeadMapData([[${habitViewModel.value}]], [[${habitViewModel.key.getTitle()}]]);
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </section>
</section>
<div th:replace="~{fragments/footer}"></div>
<div th:replace="~{fragments/scripts}"></div>
</body>
</html>
